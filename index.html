<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>B√© T·∫≠p G√µ Telex - B√†i th∆° Qu√™ H∆∞∆°ng</title>
    <style>
        :root { --primary: #3498db; --accent: #e67e22; --bg: #fdfefe; --card-bg: #ffffff; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background-color: #eef2f7; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        
        .container { display: flex; gap: 20px; width: 95%; max-width: 1100px; padding: 20px; }
        
        /* C·ªòT TR√ÅI - LUY·ªÜN T·∫¨P */
        .left-column { flex: 3; background: var(--card-bg); padding: 30px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; }
        
        #vietnamese-text { font-size: 36px; color: #2c3e50; margin-bottom: 10px; font-weight: bold; min-height: 50px; }
        #telex-hint-container { background: #f1f5f9; padding: 15px; border-radius: 15px; border: 2px dashed #cbd5e0; margin-bottom: 25px; }
        .telex-char { font-size: 30px; display: inline-block; margin: 0 5px; color: #94a3b8; font-family: 'Courier New', monospace; font-weight: bold; }
        .telex-char.active { color: #e67e22; background: #fef3c7; border-radius: 8px; padding: 0 6px; border-bottom: 4px solid #f59e0b; }
        .telex-char.done { color: #10b981; }

        /* B√†n tay SVG */
        .hands-area { display: flex; gap: 40px; justify-content: center; margin-top: 30px; }
        .hand-svg { width: 180px; height: 160px; }
        .finger-node { fill: #e2e8f0; stroke: #94a3b8; stroke-width: 2; transition: 0.15s; }
        .finger-node.active { fill: var(--accent); stroke: #d35400; transform: translateY(-8px); }

        /* C·ªòT PH·∫¢I - H∆Ø·ªöNG D·∫™N TELEX */
        .right-column { flex: 1; background: #34495e; color: white; padding: 20px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .guide-title { text-align: center; font-size: 20px; color: #f1c40f; margin-bottom: 15px; border-bottom: 2px solid #5d6d7e; padding-bottom: 10px; }
        .guide-section { margin-bottom: 20px; }
        .guide-section h3 { font-size: 16px; margin-bottom: 8px; color: #3498db; }
        .guide-item { display: flex; justify-content: space-between; background: #2c3e50; padding: 8px 12px; margin-bottom: 5px; border-radius: 8px; font-size: 15px; }
        .key-code { color: #f1c40f; font-weight: bold; }

        #progress { font-size: 14px; color: #94a3b8; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="container">
        <div class="left-column">
            <h2 style="color: var(--primary); margin: 0 0 20px 0;">üåü B√© T·∫≠p G√µ Qu√™ H∆∞∆°ng üåü</h2>
            
            <div id="vietnamese-text">ƒêang t·∫£i...</div>
            
            <div id="telex-hint-container">
                <div id="hint-row"></div>
            </div>

            <div id="progress">D√≤ng 1 / 16</div>

            <div class="hands-area">
                <svg class="hand-svg" viewBox="0 0 200 180">
                    <rect id="f1" class="finger-node" x="10" y="50" width="30" height="70" rx="15" />
                    <rect id="f2" class="finger-node" x="50" y="20" width="30" height="90" rx="15" />
                    <rect id="f3" class="finger-node" x="90" y="10" width="30" height="100" rx="15" />
                    <rect id="f4" class="finger-node" x="130" y="20" width="30" height="90" rx="15" />
                    <rect id="f5" class="finger-node" x="160" y="110" width="40" height="60" rx="20" transform="rotate(-20 180 140)" />
                    <path d="M10,120 Q10,170 180,170 L180,120 Z" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2" />
                </svg>
                <svg class="hand-svg" viewBox="0 0 200 180">
                    <rect id="f6" class="finger-node" x="0" y="110" width="40" height="60" rx="20" transform="rotate(20 20 140)" />
                    <rect id="f7" class="finger-node" x="40" y="20" width="30" height="90" rx="15" />
                    <rect id="f8" class="finger-node" x="80" y="10" width="30" height="100" rx="15" />
                    <rect id="f9" class="finger-node" x="120" y="20" width="30" height="90" rx="15" />
                    <rect id="f10" class="finger-node" x="160" y="50" width="30" height="70" rx="15" />
                    <path d="M20,170 Q190,170 190,120 L20,120 Z" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2" />
                </svg>
            </div>
        </div>

        <div class="right-column">
            <div class="guide-title">M·∫πo G√µ Telex</div>
            
            <div class="guide-section">
                <h3>C√°c D·∫•u Thanh</h3>
                <div class="guide-item"><span>D·∫•u S·∫Øc</span><span class="key-code">s</span></div>
                <div class="guide-item"><span>D·∫•u Huy·ªÅn</span><span class="key-code">f</span></div>
                <div class="guide-item"><span>D·∫•u H·ªèi</span><span class="key-code">r</span></div>
                <div class="guide-item"><span>D·∫•u Ng√£</span><span class="key-code">x</span></div>
                <div class="guide-item"><span>D·∫•u N·∫∑ng</span><span class="key-code">j</span></div>
            </div>

            <div class="guide-section">
                <h3>C√°c Ch·ªØ C√°i</h3>
                <div class="guide-item"><span>Ch·ªØ √Ç</span><span class="key-code">aa</span></div>
                <div class="guide-item"><span>Ch·ªØ ƒÇ</span><span class="key-code">aw</span></div>
                <div class="guide-item"><span>Ch·ªØ √ä</span><span class="key-code">ee</span></div>
                <div class="guide-item"><span>Ch·ªØ √î</span><span class="key-code">oo</span></div>
                <div class="guide-item"><span>Ch·ªØ ∆†</span><span class="key-code">ow</span></div>
                <div class="guide-item"><span>Ch·ªØ ∆Ø</span><span class="key-code">uw</span></div>
                <div class="guide-item"><span>Ch·ªØ ƒê</span><span class="key-code">dd</span></div>
            </div>
        </div>
    </div>

    <script>
        const poemData = [
            {v: "Qu√™ h∆∞∆°ng l√† ch√πm kh·∫ø ng·ªçt", t: "Quee huowng laf chumf khee ngotj "},
            {v: "Cho con tr√®o h√°i m·ªói ng√†y", t: "Cho con treoaf hais mooji ngayf "},
            {v: "Qu√™ h∆∞∆°ng l√† ƒë∆∞·ªùng ƒëi h·ªçc", t: "Quee huowng laf duowngf di hocj "},
            {v: "Con v·ªÅ r·ª£p b∆∞·ªõm v√†ng bay", t: "Con veef ropjp buowms vangf bay "},
            {v: "Qu√™ h∆∞∆°ng l√† con di·ªÅu bi·∫øc", t: "Quee huowng laf con dieeuaf biecj "},
            {v: "Tu·ªïi th∆° con th·∫£ tr√™n ƒë·ªìng", t: "Tuooji thoer con thar treen dongf "},
            {v: "Qu√™ h∆∞∆°ng l√† con ƒë√≤ nh·ªè", t: "Quee huowng laf con doaf nhoer "},
            {v: "√äm ƒë·ªÅm khua n∆∞·ªõc ven s√¥ng", t: "Eem deemf khua nuowsc ven song "},
            {v: "Qu√™ h∆∞∆°ng l√† c·∫ßu tre nh·ªè", t: "Quee huowng laf cauaf tre nhoer "},
            {v: "M·∫π v·ªÅ n√≥n l√° nghi√™ng che", t: "Mej veef nosn las nghieeng che "},
            {v: "Qu√™ h∆∞∆°ng m·ªói ng∆∞·ªùi ch·ªâ m·ªôt", t: "Quee huowng mooji nguowif chir motj "},
            {v: "Nh∆∞ l√† ch·ªâ m·ªôt m·∫π th√¥i", t: "Nhuw laf chir motj mej thooi "}
        ];

        let lineIdx = 0, charIdx = 0;
        const fMap = {
            'a': 'f1', 'q': 'f1', 'z': 'f1', 's': 'f2', 'w': 'f2', 'x': 'f2',
            'd': 'f3', 'e': 'f3', 'c': 'f3', 'f': 'f4', 'r': 'f4', 'v': 'f4',
            'g': 'f4', 't': 'f4', 'b': 'f4', 'h': 'f7', 'y': 'f7', 'n': 'f7',
            'm': 'f7', 'u': 'f7', 'j': 'f7', 'k': 'f8', 'i': 'f8', 'l': 'f9',
            'o': 'f9', 'p': 'f10', ' ': 'f6'
        };

        function draw() {
            const line = poemData[lineIdx];
            document.getElementById('vietnamese-text').innerText = line.v;
            document.getElementById('progress').innerText = `D√≤ng ${lineIdx + 1} / ${poemData.length}`;
            
            const row = document.getElementById('hint-row');
            row.innerHTML = '';
            line.t.split('').forEach((c, i) => {
                const span = document.createElement('span');
                span.className = 'telex-char ' + (i < charIdx ? 'done' : (i === charIdx ? 'active' : ''));
                span.innerHTML = (c === ' ') ? '‚ê£' : c;
                row.appendChild(span);
            });

            document.querySelectorAll('.finger-node').forEach(f => f.classList.remove('active'));
            const fingerId = fMap[line.t[charIdx].toLowerCase()];
            if(fingerId) document.getElementById(fingerId).classList.add('active');
        }

        window.addEventListener('keydown', (e) => {
            if(e.code === "Space") e.preventDefault();
            const expected = poemData[lineIdx].t[charIdx].toLowerCase();
            if(e.key.toLowerCase() === expected) {
                charIdx++;
                if(charIdx >= poemData[lineIdx].t.length) {
                    charIdx = 0; lineIdx++;
                    if(lineIdx >= poemData.length) { alert("B√© ƒë√£ ho√†n th√†nh b√†i th∆° r·∫•t gi·ªèi!"); lineIdx = 0; }
                }
                draw();
            }
        });
        draw();
    </script>
</body>
</html>
